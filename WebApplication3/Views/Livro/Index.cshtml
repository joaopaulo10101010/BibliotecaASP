@model IEnumerable<WebApplication3.Models.Livros>

@{

    Layout = "~/Views/Shared/_Layout.cshtml";

    ViewData["Title"] = "Livros";

}



<h2>Livros</h2>



@if (TempData["ok"] != null)

{

    <div class="ok">@TempData["ok"]</div>

}



<p><a asp-action="Criar">Novo Livro</a></p>



<style>


    /* Tabela base */

    .tbl {

    width: 100%;

    border-collapse: collapse;

    table-layout: auto;

    }



    .tbl th, .tbl td {

    padding: 8px 12px;

    border-bottom: 1px solid #e6e6e6;

    vertical-align: middle;

    text-align: left;

    white-space: nowrap;

    }



    .tbl thead th {

    border-bottom: 2px solid #d0d0d0;

    font-weight: 600;

    }



    .tbl tbody tr:nth-child(even) {

    background: #fafafa;

    }



    /* Coluna de ações */

    .col-acoes {

    text-align: center;

    }



    .tbl td:last-child {

    text-align: center;

    }



    .acoes {

    display: inline-flex;

    gap: 8px;

    align-items: center;

    justify-content: center;

    }



    .acoes form {

    margin: 0;

    }



    .btn {

    display: inline-block;

    padding: 6px 12px;

    border: 1px solid #888;

    border-radius: 4px;

    background: #f4f4f4;

    cursor: pointer;

    font: inherit;

    }



    .btn:hover {

    background: #e9e9e9;

    }



    .btn-editar {

    border-color: #3b82f6;

    }



    .btn-editar:hover {

    background: #e6f0ff;

    }



    .btn-excluir {

    border-color: #ef4444;

    }



    .btn-excluir:hover {

    background: #ffeaea;

    }

</style>



<table class="tbl tbl-livros">

    <thead>

        <tr>

            <th>#</th>

            <th>Título</th>

            <th>Autor</th>

            <th>Editora</th>

            <th>Gênero</th>

            <th>Ano</th>

            <th>ISBN</th>

            <th>Total</th>

            <th>Disp.</th>

            <th class="col-acoes">Ações</th>

        </tr>

    </thead>

    <tbody>

        @foreach (var l in Model.OrderBy(p => p.Id))

        {

            <tr>

                <td>@l.Id</td>

                <td>@l.Titulo</td>

                <td>@(l.Autor ?? "-")</td>

                <td>@(l.Editora ?? "-")</td>

                <td>@(l.Genero ?? "-")</td>

                <td>@(l.Ano?.ToString() ?? "-")</td>

                <td>@(string.IsNullOrWhiteSpace(l.Isbn) ? "-" : l.Isbn)</td>

                <td>@l.QuantidadeTotal</td>

                <td>@l.QuantidadeDisponivel</td>

                <td>

                    <div class="acoes">

                        <form asp-action="Editar" method="get">

                            <input type="hidden" name="id" value="@l.Id" />

                            <button type="submit" class="btn btn-editar">Editar</button>

                        </form>

                        <form asp-action="Excluir" method="post" onsubmit="return confirm('Excluir este livro?');">

                            @Html.AntiForgeryToken()

                            <input type="hidden" name="id" value="@l.Id" />

                            <button type="submit" class="btn btn-excluir">Excluir</button>

                        </form>

                    </div>

                </td>

            </tr>

        }

    </tbody>

</table> 